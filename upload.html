<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noindex, nofollow">
        <title>Furniture That Fits</title>
        <meta name="description" content="Design your own furniture to fit perfectly in your world.">
        <link rel="shortcut icon" href="favicon.ico"/>
        <link rel="stylesheet" href="assets/css/main.min.css">
        <script src="assets/js/vendor/modernizr-2.6.2.min.js"></script><!-- modernizr has to be loaded in the head -->
    </head>
    <body id="body" class="uploadpg clearfix" ng-app="ftf">
    <div id="st-container" class="st-container clearfix">
    <div class="st-pusher container-fluid clearfix">

        <div id="st-trigger-effects" class="column">
            <button class="aside-open" data-effect="st-effect-7"><img src="assets/img/hammer.png" alt="Open Upload Form"></button>
        </div>
        <!--[if lt IE 7]><p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p><![endif]-->
        <header class="row">
            <nav class="col-xs-12">
                <ul>
                    <li><a href="design.html">Design</a></li>
                    <li><a href="upload.html">Upload</a></li>
                    <li class="logo"><a href="index.html"><img src="assets/img/logo.png" alt="Furniture That Fits"></a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </header>

        <div class="main row clearfix" ng-controller="CompetitionController as comp">
            
            <aside class="col-sm-3 st-menu st-effect-7" id="menu-7">
                <h1>Upload your Design</h1>
                <!-- upload form in side panel -->
                <form name="uploadForm" ng-submit="uploadForm.$valid && addUpload($event)" novalidate>
                    <h4>Your Details</h4>
                    <div class="col-xs-4">
                        <label>First Name:</label> 
                        <label>Last Name:</label>
                        <label>Email:</label>
                    </div>
                    <div class="col-xs-8">
                        <input ng-model="comp.upload.firstname" type="text" required><br>
                        <input ng-model="comp.upload.lastname" type="text"><br>
                        <input ng-model="comp.upload.email" type="text"><br>
                    </div><div class="clearfix"></div>
                    <h4>Your Design</h4>
                    <div class="col-xs-4">
                        <label>Title:</label>
                        <label>Description:</label>
                    </div>
                    <div class="col-xs-8">
                        <input ng-model="comp.upload.title" type="text"><br>
                        <textarea ng-model="comp.upload.description" rows="10" cols="30"></textarea><br>
                        <input ng-model="comp.upload.image" type="text" id="file-upload">
                    </div>
                    <input id="uploadFormSubmit" type="submit" value="Submit">
                </form>
                <!-- second form that uploads the image to the server -->
                <form class="col-xs-12" action="processupload.php" method="post" enctype="multipart/form-data" id="MyUploadForm">
                    <label>Upload:</label><br>
                    <input name="FileInput" id="FileInput" type="file" /><br>
                    <input type="submit" id="submit-btn" value="Upload" /><br><br>
                    <div id="output"></div>
                </form>
            </aside>

            <div class="st-content clearfix"><!-- this is the wrapper for the content for the animated sidebar -->
            <div class="st-content-inner clearfix"><!-- extra div for emulating position:fixed of the menu for the animated sidebar -->

                <div class="uploads clearfix">  

                    <!-- repeated layout for each upload, including thumbnails and icons in main content, and modals/pop-ups -->    
                    <div class="upload col-xs-6 col-sm-3 col-md-2" ng-repeat="upload in uploads">

                        <!-- modal/pop-up -->
                        <div class="modal fade {{upload.firstname}}" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content clearfix">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    <img class="prize" ng-show="upload.prize" src="assets/img/medal.png" alt="First Prize">
                                    <div class="col-sm-7">
                                        <img ng-src="{{upload.image}}" alt="Uploaded Image">
                                    </div>
                                    <div class="info col-sm-5">
                                        <h1>{{upload.title}}</h1>
                                        <h4>By {{upload.firstname}} {{upload.lastname}}</h4>
                                        <p>{{upload.description}}</p>
                                        <div class="tacks">
                                            Add a Tack
                                            <img src="assets/img/tack.png" alt="Tacks">
                                            {{upload.tacks}}
                                        </div>
                                        <hr>
                                        <!-- display comments -->
                                        <div ng-repeat="comment in upload.comments">
                                            <p>{{comment.body}}</p>
                                            <h4>{{comment.author}}</h4>
                                            <hr>
                                        </div>
                                        <!-- comments form -->
                                        <form name="commentForm" ng-controller="CommentsController as commentsCtrl" ng-submit="commentForm.$valid && commentsCtrl.addComment(upload)" novalidate>
                                            <!-- comment preview -->
                                            <div>
                                                <p>{{commentsCtrl.comment.body}}</p>
                                                <h4>{{commentsCtrl.comment.author}}</h4>
                                            </div>
                                            <!-- comment form inputs -->
                                            <h4><label>Add a comment:</label></h4>
                                            <textarea ng-model="commentsCtrl.comment.body" cols="30" rows="5" required></textarea><br>
                                            <label>Your Name: </label><br>
                                            <input ng-model="commentsCtrl.comment.author" type="text" required><br>
                                            <!-- <div>commentForm is {{commentForm.$valid}}</div> -->
                                            <input type="submit" value="Submit">
                                        </form>
                                    </div><!-- /info -->
                                </div><!-- /modal-content -->
                            </div><!-- /modal-dialog -->
                        </div><!-- /modal -->

                        <!-- thumbnail and icons in main content -->
                        <div class="upload-thumb clearfix">
                            <img class="prize" ng-show="upload.prize" src="assets/img/medal.png" alt="First Prize">
                            <img ng-src="{{upload.image}}" alt="Uploaded Image" data-toggle="modal" data-target=".{{upload.firstname}}"><!-- rh need to change data-target to id -->
                        </div><!-- /upload-thumb -->
                        <div class="tacks">
                            <img class="comment-icon" src="assets/img/comment.png" alt="Comments">
                            <img src="assets/img/tack.png" alt="Tacks">
                            {{upload.tacks}}
                        </div>

                    </div> <!-- /upload -->

                </div><!-- /uploads -->

            </div><!-- /st-content-inner -->
            </div><!-- /st-content -->
        </div><!-- /main -->

        <footer class="row clearfix">
            <div class="col-xs-12"><p>Â© Rebecca Hill 2014. This site was created for educational purposes only.</p></div>
        </footer>

    </div><!-- end st-pusher -->
    </div><!-- end st-container -->
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
        <script src='https://cdn.firebase.com/js/client/1.0.15/firebase.js'></script>
        <script src='https://cdn.firebase.com/libs/angularfire/0.7.1/angularfire.min.js'></script>
        <script src="assets/js/angular/app.js"></script>
        <script src="assets/js/scripts.min.js"></script>
        <script type="text/javascript" src="assets/js/vendor/jquery.form.min.js"></script>
        <script src="assets/js/upload.js"></script>

    </body>
</html>

